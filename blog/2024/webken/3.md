---
title: "【第3回】HTML/CSS/JS入門(2)"
description: ""
date: "2024-05-13"
authors: ["batora9"]
tags: ["Web研究会", "html", "css", "javascript"]
prev: "./2"
---

## JavaScript(続き)

### オブジェクト

オブジェクトとは、関係するデータや機能をまとめたものです。オブジェクトは、`{}`で囲まれた中にいくつかの変数や関数などを持つことができ、それぞれの変数や関数をプロパティと呼びます。

### オブジェクトの作成

まずは、中身が空のオブジェクトを作ってみましょう。

```js
const person = {};
```

コンソールログを開いて、`person`と入力してみると

```text
[[Prototype]]: Object
```

と表示されます。これは、`person`がオブジェクトであることを示しています。

オブジェクトにプロパティを追加して表示してみましょう。

```js
person.name = "Alice";
person.age = 20;

console.log(person); // { name: 'Alice', age: 20 }
```

もっとプロパティを追加してみましょう。

```js
const student = {
  name: 'John',
  age: 20,
  isMale: true,
  favoriteFoods: ['sushi', 'pizza'],
  address: {
    country: 'Japan',
    city: 'Tokyo',
  },
};

console.log(student.name); // John
console.log(student.age); // 20
console.log(student.isMale); // true
console.log(student.favoriteFoods); // ['sushi', 'pizza']
console.log(student.favoriteFoods[0]); // sushi
console.log(student.address); // { country: 'Japan', city: 'Tokyo' }
console.log(student.address.country); // Japan
```

このように、プロパティには文字列や数値、真偽値、配列、オブジェクトなどを代入することができます。

オブジェクトのプロパティにアクセスするには、ドット記法(`object.name`)やブラケット記法(`object['name']`)を使います。上のコードでは、ドット記法を使っています。

ブラケット記法を使ってみましょう。特にdot`.`でアクセスできない場合に使います。

```js
const object = {
    "1": "aaa",
    "with-hyphen": "bbb",
    "with space": "ccc"
};

console.log(object.1); // SyntaxError: Unexpected number
console.log(object.with-hyphen); // SyntaxError: Unexpected token -
console.log(object.with space); // SyntaxError: Unexpected identifier
console.log(object["1"]); // aaa
console.log(object["with-hyphen"]); // bbb
console.log(object["with space"]); // ccc
```

`Unexpected number`, `Unexpected token -`, `Unexpected identifier` というエラーが出るのは、プロパティ名が数字やハイフン、スペースで始まっているためです。このような場合は、ブラケット記法を使ってアクセスします。

### オブジェクトのプロパティの追加・削除

### オブジェクトのプロパティの存在確認

### イベント

**イベント** とは、サイト上でユーザーが行った操作（クリック、キーボード入力、マウス移動など）のことを指します。

例えば
|イベント|説明|
|---|---|
|クリックイベント|ユーザーがマウスで要素をクリックしたとき|
|キーダウンイベント|ユーザーがキーボードでキーを押したとき|
|マウスオーバーイベント|ユーザーがマウスで要素に乗ったとき|
|フォーム送信イベント|ユーザーがフォームを送信したとき|
|入力イベント|ユーザーがフォームに入力したとき|
|リサイズイベント|ユーザーがブラウザのウィンドウサイズを変更したとき|

などがあります。

### イベントリスナー

イベントリスナーは、特定のイベントが発生したときに実行される関数です。イベントリスナーを使うことで、ユーザーの操作に応じて特定の処理を行うことができます。

例えば、ボタンがクリックされたときにテキストの色を変える関数を作ってみましょう。

```js
// 色を変更する関数
function changeColor() {
  var color = document.getElementById('text');
  color.style.color = 'red';
}

// ボタンがクリックされたときに呼び出される
function onLoaded() {
  const button = document.getElementById('button');
  button.addEventListener('click', changeColor);
}

// ページの読み込みが完了したときに呼び出される
document.addEventListener('DOMContentLoaded', onLoaded);
```

#### functionをインラインで書く場合

```js
// ページの読み込みが完了したときに呼び出される
document.addEventListener('DOMContentLoaded', function() {
  // ボタン要素を取得
  const button = document.getElementById('button');
  // ボタンがクリックされたときにテキストの色を変更する
  button.addEventListener('click', function() {
    const text = document.getElementById('text');
    text.style.color = 'red';
  });
});
```

#### アロー関数を使う場合

アロー関数を使うとインラインでさらに簡潔に書くことができます。

```js
// ページの読み込みが完了したときに呼び出される
document.addEventListener('DOMContentLoaded', () => {
  // ボタン要素を取得
  const button = document.getElementById('button');
  // ボタンがクリックされたときにテキストの色を変更する
  button.addEventListener('click', () => {
    const text = document.getElementById('text');
    text.style.color = 'red';
  });
});
```

これで`index.html`を開いて、ボタンをクリックするとテキストの色が赤に変わることを確認できます。

Tip: なぜ `DOMContentLoaded` イベントを使うのか

`DOMContentLoaded` イベントは、HTMLドキュメントの読み込みが完了したときに発生します。`DOMContentLoaded` イベントが発生するまで、JavaScriptの処理は実行されません。そのため、`DOMContentLoaded` イベントを使って、ページの読み込みが完了したときに処理を実行するようにすると、ページの読み込みが完了する前にJavaScriptの処理が実行されることを防ぐことができます。

## アプリを作ってみよう

JavaScriptを使って、簡単な計算機を作ってみましょう。
