---
title: "Windows10ユーザーのためのC言語環境構築"
description: "このページではWindows10ユーザーが、可能な限り簡単にC言語の環境を構築する方法を書きたいと思います。"
date: "2020-12-11"
authors: ["saitamau-maximum"]
tags: ["C言語", "Windows10", "環境構築"]
---


こんにちは。競技プログラミングサークルMaximumの2020年度会長です。

このページではプログラミングを始めるための準備について解説します。この準備のことを<u>環境構築</u>というのですが、 プログラミングはこの環境構築が一番の<span style="color:red">**鬼門**</span>といっても過言ではありません。

特にC言語はその圧倒的知名度に対して環境構築はなかなか面倒です。 そこで、このページでは**Windows10ユーザーが、可能な限り簡単にC言語の環境を構築する方法**を書きたいと思います。

なので以下に該当する方の役には立ちません、ごめんなさい m(__)m

- Windows8以前を使っている方
- macOSを使っている方
- Linuxを使っている方

## Step 0: プログラミングには何が必要だろう?

![コンピュータでプログラミングをする人の画像](/images/blog/c-env-for-win10/computer_programming_man.png)

プログラミングというとこういうの←をイメージする人が多いと思います。
ここで男の人が打っているのが**ソースコード**です。
つまりプログラムの設計図ですね。
しかし「設計図だけ」では不十分です。
つまり、この設計図を基に実際にプログラムを作ってくれるものが必要です。
それを**コンパイラ**といいます。

![メモ帳](/images/blog/c-env-for-win10/notepad.png)

![VSCode](/images/blog/c-env-for-win10/vscode.png)

さてソースコードというのはただのテキストなのでその気になればWindowsの「メモ帳」でも書けます。
しかしそんなのは<span style="color:red">**クールじゃない!!!**</span>
ソースコードを書くときは**テキストエディタ**を使います。
左の図を見てもらえれば「メモ帳」と今回お勧めする「Visual Studio Code」のどちらがよりクールかは一目瞭然だと思います。
まあクールかどうかは置いておくにしても、メモ帳よりVisual Studio Codeの方が使いやすいのは確実です。

まとめると、プログラミングは以下のような作業になります。

- **テキストエディタ**でソースコードを書く
- ソースコードを**コンパイラ**でコンパイルする

まずはコンパイラから手に入れましょう。

## Step 1: ~~コンパイラを入手しよう~~ Windows Subsystem for Linuxをインストールしよう

さっそくコンパイラを手に入れたいところですが、じつはここに**大問題**があります。 C言語のコンパイラの中で最も有名(事実上のデファクトスタンダード)なやつを**GCC**というのですが、なんとこのGCC、**Windows用のやつはなく、Linux用のしかありません!**

そういうわけで皆さんのパソコンにLinuxの**仮想環境**を作る必要があるのですが、これがとても面倒…

…でした。<u>少し前までは</u>。

今では**Windows Subsystem for Linux**、略して**WSL**というものがあり、これがとても簡単に導入できてしまいます。

![Windows の機能の有効化または無効化を検索](/images/blog/c-env-for-win10/yukokapng.png)

まずWindowsキーを押し、スタートメニューが開いたらそのまま「**Windowsの機能の有効化または無効化**」と打ち込んでエンターキーを押してください。

![Windows の機能の有効化または無効化の画面](/images/blog/c-env-for-win10/wsl.png)

次にこの画面のように“Windows Subsystem for Linux”にチェックマークを入れてOKを押してください。

![winver を検索](/images/blog/c-env-for-win10/s_winver.png)

さてここでちょっとWindows10のバージョンを確かめる必要があります。またスタートメニューから**winver**コマンドを実行してください。

![winver の画面](/images/blog/c-env-for-win10/winver.png)

するとこのような画面が開くと思うので、「バージョンが2004以上かどうか」を覚えておいてください。私のPCではバージョン1909なので、2004以下ですね。

![Microsoft Store の画面](/images/blog/c-env-for-win10/store.png)

次に**Microsoft Store**を開き、「Ubuntu」で検索してください。いろいろ検索結果に出てきますが、ここで二つの選択肢があります。

- 「**Ubuntu 18.04 LTS**」をインストールする。
- WSLを**WSL2**にアップデートし、「**Ubuntu**」をインストールする。(詳細は割愛)

さっき確かめたバージョンが**2004以上**の方は、どちらの選択肢を選んでいただいても構いません。ただし選択肢2についての解説はここでは省かせていただきますm(__)m

バージョンが**1909以下の方**は、<u>選択肢1しか選べません</u>(理由に関しては[ここ](https://qiita.com/mmns/items/eaf42dd3345a2285ff9e)からどうぞ)。

というわけで各自適切な方をインストールしてください。

インストールが終わったらUbuntuを起動しましょう。

なお、初回起動時はユーザーネームとパスワードを設定する必要があります。このときのパスワードは大事なものなので**しっかり覚えておきましょう。**

それからUbuntuはデフォルトではたぶん英語だと思います。日本語にする方法については[こちら](https://www.atmarkit.co.jp/ait/articles/1806/28/news043.html)からどうぞ。

## Step 2: コンパイラを入手しよう

ここまで来たらもう簡単です。ユーザーネームとパスワードの設定が終わったらUbuntuの画面に以下のように3つコマンドを打ってください。また、このときにさっきのパスワードの入力が求められます。

1. **sudo apt update**
2. **sudo apt upgrade**
3. **sudo apt install gcc**

また、途中で“Do you want to continue? [Y/n]“みたいなことを聞かれるかもしれませんが、ここでは”y”(“yes”の略)と入力してエンターキーを押せば続行できます。
逆に“n”(“no”の略)と入力すれば中断されます。

なお、コマンドを打った時に表示されるメッセージは人によって違うので、画像と同じものが表示されなくても大丈夫です。

![コマンドを打ち込んだ画面](/images/blog/c-env-for-win10/setup.png)

これが終わったらUbuntuは閉じていただいて構いません。

## Step 3: テキストエディタを手に入れよう

さっきお話しした通りここでは**Visual Studio Code**をインストールしていただきます。
といってもこっちはWSLと違って特に難しいこともないので、各自適当にググってダウンロードしてください。

## Step 4: 拡張機能をインストールしよう

Visual Studio Codeのつよいところは**拡張機能**です。これでVisual Studio Codeをどんどん便利にしていくことができます。

ここでおすすめの拡張機能を紹介しているときりがないので、とりあえずここでは必須の2つだけをご紹介します。

1. **Japanese Language Pack for Visual Studio Code** - Visual Studio Codeを日本語化します。英語が読める人はいりません。
2. **Remote - WSL** - **今回のキモです。** 必ずインストールしてください。

![VSCode の拡張機能の画面](/images/blog/c-env-for-win10/ext.png)

このようにまずなんかブロックみたいなアイコンをクリックし、そこで出てきた検索バーに名前を入力すれば拡張機能がずらずら出てくるので目当てのものをインストールしてください。

## Step final: Hello, World

![VSCode の左下に表示されるもの](/images/blog/c-env-for-win10/code.png)

Remote - WSLをインストールするとVisual Studio Codeの左下にちっちゃくこんなのが出てくると思います。

![Remote - WSL をクリックする](/images/blog/c-env-for-win10/newwindow.png)

そいつをクリックして、**Remote - WSL: New Window**をクリックしてください。すると新しいウィンドウが開くと思います(古い方のウィンドウは閉じていただいて構いません)。

![ターミナルを開く](/images/blog/c-env-for-win10/terminal.png)

その次はこのように「ターミナル(T)」→「新しいターミナル」をクリックしてください。

![mkdir コマンドを実行](/images/blog/c-env-for-win10/mkdir.png)

するとこのようにターミナルが開くので、下の画面のように **mkdir <好きな名前>** を打ち込んでください。

![フォルダを開く](/images/blog/c-env-for-win10/open.png)

次は画像のように、

1. 左上のファイルアイコンをクリック
2. 「フォルダーを開く」をクリック
3. さっき打った<好きな名前>をクリック
4. OKをクリック

してください。

![ファイルを作成](/images/blog/c-env-for-win10/newfile.png)

次は画像のようにVisual Studio Code左側の「エクスプローラー」で右クリック、新しいファイルを作ります。
このファイルの名前も好きなもので構いませんが、<u>拡張子は“.c”が好ましいです</u> (「好ましい」というだけで、「絶対にそうしなければならない」ということはないです)。

![source.c の内容](/images/blog/c-env-for-win10/hello.png)

そうして開いたファイルに、このようにソースコードを書いていきます。 書き写す際間違えないように注意してください。

それから**書き終わったら「保存」をお忘れなく。**
保存してないせいでうまくいかないということがよくあります(このページの下の「補足」もご覧ください)。

![コマンドを実行](/images/blog/c-env-for-win10/end.png)

次にターミナルにこのようにコマンドを打ちます。

1. gcc <今作ったファイルの名前>
2. (1. でエラーメッセージが出なかったら)./a.out

**見事“Hello, World!”と表示されたなら、おめでとう、<span style="color:red">君はプログラマの第一歩を踏み出した!!!</span>**

少々うんちくを語ると、この“Hello World”という文章の出典は今から40年以上前に出版された「プログラミング言語C」です。

この本は歴史的にも非常に重要な本で、以降あらゆるプログラミング言語において「初心者はまず“Hello World”と表示する」というのが<u>プログラミング業界における伝統</u>となりました。

この伝統を踏むことでプログラミングは始まるわけです。

## 補足

### C++について

C言語によく似た言語に **C++** というものがあります。ここまで来れたならC++も簡単に始めることができます。

![g++ をインストールするコマンド](/images/blog/c-env-for-win10/get-g_.png)

C言語のコンパイルにはgccを使いましたが、C++のコンパイルには **g++** を使います。もう一度Ubuntuを開いて、 **sudo apt install g++** と打つと手に入ります。

![source.cpp の内容](/images/blog/c-env-for-win10/hello_cpp.png)

さっきと同じ要領でソースコードを書くファイルを作りましょう。
このファイルの名前もやはり好きなもので構いませんが、**拡張子は“.cpp”が好ましいです。**
書き写すときは間違えないようお気をつけて。

![コンパイルするコマンド](/images/blog/c-env-for-win10/hello_cpp2.png)

しっかり保存したら、ターミナルにこのようにコマンドを打ちます。

1. g++ <今作ったファイルの名前>
2. (1. でエラーメッセージが出なかったら)./a.out

さっきとほとんど同じですね。

### 自動保存について

一定時間ファイルへの操作がないと自動で保存してくれるように設定することもできます。これで保存し忘れたせいでエラーになることもないですね。

![自動保存の設定画面](/images/blog/c-env-for-win10/setting.png)

まずこのように「ファイル」→「基本設定」→「設定」をクリックしてください。

![画面右上](/images/blog/c-env-for-win10/setting2.png)

次に画面右上にあるマークをクリックしてください。

![設定ファイル](/images/blog/c-env-for-win10/json.png)

すると設定ファイルが開かれるので、そこに **“files.autoSave”: “afterDelay”** と追記し、保存してください。これで自動保存がきくようになります。
